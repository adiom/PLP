# SwiftPLP - Эмулятор RISC-V процессора

Эмулятор процессора, реализующий упрощенную RISC-V архитектуру с использованием Swift и SwiftUI.

## Основные характеристики
- Реализация на Swift с использованием SwiftUI
- 8 регистров общего назначения (x0-x7)
- 256 байт памяти
- Поддержка базовых RISC-V инструкций
- Консольный ввод/вывод через системные вызовы
- Простая файловая система
- Графический интерфейс пользователя

## Поддерживаемые инструкции
- `ADD rd,rs1,rs2` - Сложение
- `SUB rd,rs1,rs2` - Вычитание
- `LW rd,imm(rs1)` - Загрузка слова
- `SW rs2,imm(rs1)` - Сохранение слова
- `BEQ rs1,rs2,imm` - Переход если равно
- `BNE rs1,rs2,imm` - Переход если не равно
- `LUI rd,imm` - Загрузка верхнего имм.
- `JAL rd,imm` - Переход и связывание
- `JALR rd,rs1,imm` - Непрямой переход и связывание
- `ECALL` - Системный вызов
- `HALT` - Остановка программы

## Системные вызовы
- Вывод символа (символ в x2)
- Вывод числа (число в x2)
- Остановка программы
- Чтение символа (результат в x2)
- Открытие файла (имя в памяти по адресу x2, длина в x3)
- Чтение из файла (fd в x2, длина в x3, адрес буфера в x4)
- Запись в файл (fd в x2, длина в x3, адрес данных в x4)
- Закрытие файла (fd в x2)

## Компоненты
- `CPU.swift` - Реализация процессора
- `Assembler.swift` - Ассемблер
- `FileSystem.swift` - Файловая система
- `ContentView.swift` - UI интерфейс

## Требования
- macOS 15.0 или новее
- Xcode 16.0 или новее
- Swift 5.0 или новее

## Сборка и запуск
1. Откройте проект в Xcode:
2. Выберите целевое устройство (macOS)
3. Нажмите ▶️ для сборки и запуска

## Использование
1. Введите ассемблерный код в левое текстовое поле
2. Нажмите "Assemble to Hex" для трансляции
3. Нажмите "Load Program" для загрузки в память
4. Используйте:
   - "Step" для пошагового выполнения
   - "Run" для запуска до команды HALT
   - "Reset" для сброса эмулятора

## Пример программы

## Лицензия
MIT License. См. файл LICENSE.

## Автор
adiom

## Участие в разработке
Pull requests приветствуются. Для масштабных изменений сначала создайте issue для обсуждения.
